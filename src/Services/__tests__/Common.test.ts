import { CommonHelpers } from "..";

const properties = [
  {
    id: 99,
    external_id: "BERLIN",
    review_widget_id: null,
    name: "berlin schlüterstraße",
    city: "berlin",
    city_id: 32,
    street: "schlüterstraße",
    location: {
      lat: 52.50176279999999,
      lng: 13.3164893,
      city: "Berlin",
      postalCode: "10629",
      countryCode: "DE",
      addressLine1: "Schlüterstraße 39",
      countryName: "Germany",
    },
    distance: 6.321157219990815,
    images: [
      {
        url: "https://limehome.imgix.net/properties/99/9fee5516-9d41-41f7-95ea-6ac72c49fb86.jpg",
        is_portrait: false,
        position: 0,
        unit_group_ids: [16],
        tags: [],
      },
    ],
    lowest_price_per_night: null,
    lowest_price_per_month: null,
  },
];

const property = {
  id: 99,
  external_id: "BERLIN",
  review_widget_id: null,
  name: "berlin schlüterstraße",
  city: "berlin",
  city_id: 32,
  street: "schlüterstraße",
  location: {
    lat: 52.50176279999999,
    lng: 13.3164893,
    city: "Berlin",
    postalCode: "10629",
    countryCode: "DE",
    addressLine1: "Schlüterstraße 39",
    countryName: "Germany",
  },
  distance: 6.321157219990815,
  description:
    "Our limehome Berlin Schlüterstraße is located in one of the most central residential areas in Berlin - with an urban, representative and quiet character. Right next to your temporary home is Berlin's famous boulevard Kurfürstendamm, the KaDeWe, the Kaiser Wilhelm Memorial Church and the Berlin Tiergarten. Other sights of the city (Potsdamer Platz, Brandenburg Gate and numerous museums) can be reached in a few minutes by public transport.",
  additional_services: null,
  parking:
    "Unfortunately there is no private parking available in our limehome. Since the Suites are located in the middle of the city, there are very few short term parking spaces available in the surrounding streets. However, if you are looking for a covered parking space, you can park your car in the nearest CONTIPARK underground parking garage Leibniz Kolonnaden, which is only 450 meters away on foot.",
  things_to_know:
    "Please note: in order to receive the key for your apartment, you have to complete our online check-in. You will receive the link and detailed instructions by e-mail after your booking.",
  house_rules:
    "Short and simple: no smoking, no parties or events and no pets. Quiet hours 10 p.m. - 7 a.m.",
  images: [
    {
      url: "https://limehome.imgix.net/properties/99/9fee5516-9d41-41f7-95ea-6ac72c49fb86.jpg",
      is_portrait: false,
      position: 0,
      unit_group_ids: [16],
      tags: [],
    },
    {
      url: "https://limehome.imgix.net/properties/99/197312d8-f5c8-44b7-8a24-797fc88fc8a7.jpg",
      is_portrait: true,
      position: 1,
      unit_group_ids: [16],
      tags: [],
    },
    {
      url: "https://limehome.imgix.net/properties/99/4f04f238-1cce-4488-9169-00750d469d09.jpg",
      is_portrait: false,
      position: 2,
      unit_group_ids: [16],
      tags: [],
    },
    {
      url: "https://limehome.imgix.net/properties/99/93b691d8-e955-4148-9889-7369390cf304.jpg",
      is_portrait: false,
      position: 3,
      unit_group_ids: [16],
      tags: [],
    },
    {
      url: "https://limehome.imgix.net/properties/99/f90fc07c-0f75-4175-a2b6-99698a3ada70.jpg",
      is_portrait: false,
      position: 4,
      unit_group_ids: [16],
      tags: [],
    },
    {
      url: "https://limehome.imgix.net/properties/99/9cd81184-9f6d-4a50-8b20-67226f4dbfe9.jpg",
      is_portrait: false,
      position: 5,
      unit_group_ids: [16],
      tags: [],
    },
    {
      url: "https://limehome.imgix.net/properties/99/4f06d308-fc0c-4646-8949-24859031bbfb.jpg",
      is_portrait: false,
      position: 6,
      unit_group_ids: [16],
      tags: [],
    },
    {
      url: "https://limehome.imgix.net/properties/99/6f9f9132-bcfb-49b5-8f4c-c8259f20a4ce.jpg",
      is_portrait: false,
      position: 7,
      unit_group_ids: [16],
      tags: [],
    },
    {
      url: "https://limehome.imgix.net/properties/99/5887e42b-9e31-4d29-8ee5-09bb52ae5498.jpg",
      is_portrait: false,
      position: 8,
      unit_group_ids: [16],
      tags: [],
    },
    {
      url: "https://limehome.imgix.net/properties/99/9e291414-d720-44d4-b6e8-db2f9817ad85.jpg",
      is_portrait: false,
      position: 9,
      unit_group_ids: [16],
      tags: [],
    },
    {
      url: "https://limehome.imgix.net/properties/99/58ceca17-59a2-403c-9420-456e50a60fc8.jpg",
      is_portrait: false,
      position: 10,
      unit_group_ids: [16],
      tags: [],
    },
    {
      url: "https://limehome.imgix.net/properties/99/22d02c2c-98ad-4f9a-b23e-2168c2bb3bb6.jpg",
      is_portrait: false,
      position: 11,
      unit_group_ids: [16],
      tags: [],
    },
    {
      url: "https://limehome.imgix.net/properties/99/58e47428-7341-4b45-9b4d-7f2b2b1d0aba.jpg",
      is_portrait: false,
      position: 12,
      unit_group_ids: [16],
      tags: [],
    },
    {
      url: "https://limehome.imgix.net/properties/99/0f220ac5-f5e4-4c58-b164-001fa19b6e79.jpg",
      is_portrait: false,
      position: 13,
      unit_group_ids: [16],
      tags: [],
    },
    {
      url: "https://limehome.imgix.net/properties/99/19566824-781e-4983-9c73-40f10d9d2e42.jpg",
      is_portrait: false,
      position: 14,
      unit_group_ids: [16],
      tags: [],
    },
    {
      url: "https://limehome.imgix.net/properties/99/fda8519c-1a68-48a5-9718-7b5993cf1808.jpg",
      is_portrait: false,
      position: 15,
      unit_group_ids: [16],
      tags: [],
    },
    {
      url: "https://limehome.imgix.net/properties/99/4fbd3d56-b29c-4868-9b6b-f6e0350407da.jpg",
      is_portrait: false,
      position: 16,
      unit_group_ids: [16],
      tags: [],
    },
    {
      url: "https://limehome.imgix.net/properties/99/7415e05d-7872-4c19-a1de-7f5f862f11eb.jpg",
      is_portrait: false,
      position: 17,
      unit_group_ids: [16],
      tags: [],
    },
  ],
  lowest_price_per_night: null,
  lowest_price_per_month: null,
  default_check_in_time: "15:00",
  default_check_out_time: "11:00",
  unit_groups: [
    {
      id: 16,
      title: "Berlin Schlüterstrasse | Junior Suite",
      description:
        "Our 19 sqm Single Suites for stays over 60 nights are the ideal choice if you are traveling alone and have been furnished to our highest modern standards. The Suites feature a fully equipped kitchen, a comfortable box-spring bed (1.20 m) including a modern smart TV, and a private bathroom with floor-to-ceiling shower to make you feel at home. In case of dirty laundry, you have the possibility to wash your clothes in the shared laundry room. Therefore your apartment offers everything you need for a stay with us in just one room.",
      custom_title: "",
      external_id: "BERLIN-STUDIO",
      name: "Single Suite (60+ nights)",
      max_guests: 1,
      rental_type: "LT",
      lowest_price_per_night: null,
      lowest_price_per_month: null,
      spaces: [
        {
          icon: "home",
          name: "sqm",
          name_plural: "sqm",
          slug: "square-meter",
          value: 19,
        },
        {
          icon: "bed",
          name: "Queen-size bed (1.60 m)",
          name_plural: "Queen-size beds (1.60 m)",
          slug: "beds",
          value: 0,
        },
        {
          icon: "couch",
          name: "Sofa bed (1.60 m)",
          name_plural: "Sofa beds (1.60 m)",
          slug: "sofa-bed",
          value: 0,
        },
        {
          icon: "bed",
          name: "Single bed (1.20 m)",
          name_plural: "Single beds",
          slug: "single-bed",
          value: 1,
        },
        {
          icon: "bed",
          name: "Double bed (1.40 m)",
          name_plural: "Double beds (1.40 m)",
          slug: "double-bed",
          value: 0,
        },
        {
          icon: "door-open",
          name: "Room",
          name_plural: "Rooms",
          slug: "room",
          value: 1,
        },
        {
          icon: "bed",
          name: "Queen-size bed (1.50 m)",
          name_plural: "Queen-size beds (1.50 m)",
          slug: "double-bed-150-m",
          value: 0,
        },
        {
          icon: "bed",
          name: "King-size bed (1.80 m)",
          name_plural: "King-size beds (1.80 m)",
          slug: "king-size-bed",
          value: 0,
        },
        {
          icon: "umbrella-beach",
          name: "Balcony",
          name_plural: "Balconies",
          slug: "balcony",
          value: 0,
        },
        {
          icon: "cloud-sun",
          name: "Terrace",
          name_plural: "Terraces",
          slug: "terrace",
          value: 0,
        },
        {
          icon: "couch",
          name: "Sofa bed (1.40 m)",
          name_plural: "Sofa beds (1.40 m)",
          slug: "sofa-bed-140m",
          value: 0,
        },
        {
          icon: "bed",
          name: "Single bed (90 cm)",
          name_plural: "Single beds (90 cm)",
          slug: "single-bed-90cm",
          value: 0,
        },
        {
          icon: "couch",
          name: "Sofa bed (1.80 m)",
          name_plural: "Sofa beds (1.80 m)",
          slug: "sofa-bed-180-m",
          value: 0,
        },
        {
          icon: "bed",
          name: "Daybed (1.00 m)",
          name_plural: "Daybeds (1.00 m)",
          slug: "daybed-100-m",
          value: 0,
        },
      ],
      amenities: [
        {
          icon: "utensils",
          name: "Fully-equipped kitchen",
        },
        {
          icon: "wind",
          name: "Hairdryer",
        },
        {
          icon: "tshirt",
          name: "Washing machine & iron",
        },
        {
          icon: "leaf",
          name: "Certified natural cosmetics",
        },
        {
          icon: "wifi",
          name: "High-speed wifi",
        },
        {
          icon: "door-closed",
          name: "Wardrobe",
        },
        {
          icon: "tv",
          name: "Smart-TV",
        },
        {
          icon: "chair",
          name: "Design furniture",
        },
        {
          icon: "bed",
          name: "Premium box spring beds",
        },
        {
          icon: "mug-hot",
          name: "Fresh coffee",
        },
        {
          icon: "laptop",
          name: "Laptop friendly workspace",
        },
      ],
      images: [
        {
          url: "https://limehome.imgix.net/unit-groups/16/caff6e3b-39d1-41b7-a79e-f189a74ad2a4.jpg",
          is_portrait: false,
          position: 0,
        },
        {
          url: "https://limehome.imgix.net/unit-groups/16/e3310948-b53e-4c57-90d0-afba1e17ac29.jpg",
          is_portrait: false,
          position: 1,
        },
        {
          url: "https://limehome.imgix.net/unit-groups/16/372f2b98-458b-4df4-b3d7-1635735e351b.jpg",
          is_portrait: true,
          position: 2,
        },
        {
          url: "https://limehome.imgix.net/unit-groups/16/6cb6c4c5-285a-4b5f-ab72-e1de90953ccc.jpg",
          is_portrait: false,
          position: 3,
        },
        {
          url: "https://limehome.imgix.net/unit-groups/16/0ad8ce7d-9e6e-47fa-88ef-42e25a44e3ff.jpg",
          is_portrait: false,
          position: 4,
        },
        {
          url: "https://limehome.imgix.net/unit-groups/16/d86ec863-cfa2-4e75-855e-81a06b1415c0.jpg",
          is_portrait: false,
          position: 5,
        },
        {
          url: "https://limehome.imgix.net/unit-groups/16/a6958ecc-03ca-404b-a1fd-28be3162557f.jpg",
          is_portrait: false,
          position: 6,
        },
        {
          url: "https://limehome.imgix.net/unit-groups/16/5e937d17-9cb4-43f7-8268-d9eaaf46c6ff.jpg",
          is_portrait: false,
          position: 7,
        },
        {
          url: "https://limehome.imgix.net/unit-groups/16/b1bb5fcd-8cf8-4f50-b508-0048ecefab05.jpg",
          is_portrait: false,
          position: 8,
        },
        {
          url: "https://limehome.imgix.net/unit-groups/16/3aac9a81-6d57-4c95-bba8-7fdf97e15e4b.jpg",
          is_portrait: false,
          position: 9,
        },
      ],
    },
  ],
};

describe("getFormattedProperties function use-cases", () => {
  test("return properties after formatting that are sent", () => {
    const expectedData = [
      {
        id: 99,
        title: "berlin schlüterstraße",
        imageUrl:
          "https://limehome.imgix.net/properties/99/9fee5516-9d41-41f7-95ea-6ac72c49fb86.jpg",
        distanceFromCity: 6.3,
        perNightRate: 77,
        location: {
          latitude: 52.50176279999999,
          longitude: 13.3164893,
        },
      },
    ];
    expect(CommonHelpers.getFormattedProperties({ properties })).toEqual(
      expectedData
    );
  });
  test("return empty array after formatting because response is empty", () => {
    expect(CommonHelpers.getFormattedProperties({ properties: [] })).toEqual(
      []
    );
  });
});

describe("getFormattedDetailedProperty function use-cases", () => {
  test("return detail properties after formatting", () => {
    const expectedProperty = {
      id: 99,
      title: "berlin schlüterstraße",
      description:
        "Our limehome Berlin Schlüterstraße is located in one of the most central residential areas in Berlin - with an urban, representative and quiet character. Right next to your temporary home is Berlin's famous boulevard Kurfürstendamm, the KaDeWe, the Kaiser Wilhelm Memorial Church and the Berlin Tiergarten. Other sights of the city (Potsdamer Platz, Brandenburg Gate and numerous museums) can be reached in a few minutes by public transport.",
      distanceFromCity: 6.3,
      images: [
        "https://limehome.imgix.net/properties/99/9fee5516-9d41-41f7-95ea-6ac72c49fb86.jpg",
        "https://limehome.imgix.net/properties/99/197312d8-f5c8-44b7-8a24-797fc88fc8a7.jpg",
        "https://limehome.imgix.net/properties/99/4f04f238-1cce-4488-9169-00750d469d09.jpg",
        "https://limehome.imgix.net/properties/99/93b691d8-e955-4148-9889-7369390cf304.jpg",
        "https://limehome.imgix.net/properties/99/f90fc07c-0f75-4175-a2b6-99698a3ada70.jpg",
        "https://limehome.imgix.net/properties/99/9cd81184-9f6d-4a50-8b20-67226f4dbfe9.jpg",
        "https://limehome.imgix.net/properties/99/4f06d308-fc0c-4646-8949-24859031bbfb.jpg",
        "https://limehome.imgix.net/properties/99/6f9f9132-bcfb-49b5-8f4c-c8259f20a4ce.jpg",
        "https://limehome.imgix.net/properties/99/5887e42b-9e31-4d29-8ee5-09bb52ae5498.jpg",
      ],
    };
    expect(CommonHelpers.getFormattedDetailedProperty(property)).toEqual(
      expectedProperty
    );
  });
});
